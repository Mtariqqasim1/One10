<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout | One10</title>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Jost', sans-serif; }
        body { padding-bottom: 80px; }
        .container { max-width: 600px; margin: 0 auto; padding: 0 20px; }
        header { position: fixed; top: 0; left: 0; width: 100%; padding: 15px 0; background: rgba(255,255,255,0.95); z-index: 1000; border-bottom: 1px solid #eee; text-align: center; }
        .logo { font-size: 24px; font-weight: 800; text-transform: uppercase; text-decoration: none; color: black; }
        
        .cart-list { margin-top: 80px; margin-bottom: 30px; }
        .cart-item { display: flex; gap: 15px; border-bottom: 1px solid #eee; padding-bottom: 15px; margin-bottom: 15px; }
        .c-img { width: 70px; height: 90px; }
        .c-img img { width: 100%; height: 100%; object-fit: cover; }
        
        input { width: 100%; padding: 15px; margin-bottom: 15px; border: 1px solid #ddd; outline: none; }
        .btn-co { background: black; color: white; width: 100%; padding: 15px; border: none; font-weight: 700; text-transform: uppercase; }
        
        .bottom-nav { position: fixed; bottom: 0; left: 0; width: 100%; background: #fff; border-top: 1px solid #eee; display: flex; justify-content: space-around; padding: 12px 0; z-index: 2000; }
        .nav-icon { font-size: 24px; color: #555; position: relative; text-decoration: none; }
        .nav-icon.active { color: black; }
        .cart-badge { background: #000; color: #fff; font-size: 10px; width: 16px; height: 16px; border-radius: 50%; position: absolute; top: -5px; right: -5px; display: flex; justify-content: center; align-items: center; }
    </style>
</head>
<body>

    <header>
        <a href="index.html" class="logo">ONE10</a>
    </header>

    <div class="container">
        <h2 style="margin-top: 80px; margin-bottom: 20px; text-transform: uppercase; text-align: center;">Your Cart</h2>
        
        <div id="cart-items-container"></div>
        
        <div style="display: flex; justify-content: space-between; font-weight: 700; font-size: 18px; margin: 20px 0;">
            <span>Total</span> <span id="total-price">Rs. 0</span>
        </div>

        <h3 style="margin-bottom: 15px;">Checkout Details</h3>
        <form onsubmit="placeOrder(event)">
            <input type="text" id="name" placeholder="Full Name" required>
            <input type="tel" id="phone" placeholder="Phone Number" required>
            <input type="text" id="address" placeholder="Shipping Address" required>
            <button class="btn-co">Confirm via WhatsApp</button>
        </form>
        
        <button onclick="clearCart()" style="margin-top: 10px; background: none; border: none; color: red; font-size: 12px; cursor: pointer;">Clear Cart</button>
    </div>

    <nav class="bottom-nav">
        <a href="index.html" class="nav-icon"><i class="ri-home-line"></i></a>
        <a href="shop.html" class="nav-icon"><i class="ri-search-line"></i></a>
        <a href="checkout.html" class="nav-icon active">
            <i class="ri-shopping-bag-fill"></i>
            <div class="cart-badge" id="cart-count">0</div>
        </a>
    </nav>

    <script>
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        document.getElementById('cart-count').innerText = cart.length;

        function renderCart() {
            const container = document.getElementById('cart-items-container');
            let total = 0;
            
            if(cart.length === 0) {
                container.innerHTML = "<p>Cart is empty.</p>";
            } else {
                container.innerHTML = cart.map((item, index) => {
                    total += item.price;
                    return `
                    <div class="cart-item">
                        <div class="c-img"><img src="${item.img}"></div>
                        <div style="flex:1;">
                            <h4>${item.name}</h4>
                            <p style="font-size:12px; color:#666;">Size: ${item.size}</p>
                            <p style="font-weight:600;">Rs. ${item.price}</p>
                        </div>
                        <i class="ri-delete-bin-line" onclick="removeItem(${index})" style="color:red; cursor:pointer;"></i>
                    </div>`;
                }).join('');
            }
            document.getElementById('total-price').innerText = "Rs. " + total;
        }

        function removeItem(index) {
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
            document.getElementById('cart-count').innerText = cart.length;
        }

        function clearCart() {
            cart = [];
            localStorage.setItem('cart', JSON.stringify([]));
            renderCart();
            document.getElementById('cart-count').innerText = 0;
        }

        function placeOrder(e) {
            e.preventDefault();
            if(cart.length === 0) return alert("Cart is empty");
            
            const name = document.getElementById('name').value;
            const address = document.getElementById('address').value;
            const items = cart.map(i => `${i.name} (${i.size})`).join(', ');
            const total = document.getElementById('total-price').innerText;
            
            const msg = `New Order!%0AName: ${name}%0AAddress: ${address}%0AItems: ${items}%0ATotal: ${total}`;
            window.open(`https://wa.me/923001234567?text=${msg}`, '_blank');
        }

        renderCart();
    </script>
</body>
</html>